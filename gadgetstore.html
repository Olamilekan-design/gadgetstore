<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Gadget Store - Catalog</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="animated-bg">
    <div class="animated-bg-layer" aria-hidden="true"></div>
    <div class="site-content">
        <header class="site-header" role="banner">
            <div class="header-top">
                <div class="header-container">
                        <a class="brand-logo" href="index.html" aria-label="Big City Gadget - Home">Big City Gadget</a>

                        <nav class="main-nav" role="navigation" aria-label="Main navigation">
                            <a href="index.html" class="nav-item">Home</a>
                            <a href="gadgetstore.html" class="nav-item" aria-current="page">Store</a>
                            <a href="about.html" class="nav-item">About</a>
                            <a href="contact.html" class="nav-item">Contact</a>
                        </nav>

                        <div class="header-utilities">
                            <details class="mobile-menu">
                                <summary class="menu-button" aria-label="Toggle navigation menu">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </summary>
                                <nav class="mobile-nav">
                                    <a href="index.html">Home</a>
                                    <a href="gadgetstore.html">Store</a>
                                    <a href="about.html">About</a>
                                    <a href="contact.html">Contact</a>
                                </nav>
                            </details>

                            <button class="header-search" aria-label="Open search" onclick="(function(e){e.preventDefault();var hb=document.querySelector('.header-bottom'); if(hb){ hb.classList.toggle('active'); var inp=hb.querySelector('input[type=search]'); if(inp) setTimeout(function(){inp.focus();},50);} })(event)">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="m21 21-4.35-4.35"></path>
                                </svg>
                            </button>
                        </div>
                </div>
            </div>

            <div class="header-bottom">
                <div class="header-container">
                    <form class="search-bar" role="search" action="gadgetstore.html" method="get">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="search" name="q" placeholder="Search products, brands, gadgets..." aria-label="Search products">
                        <button type="submit" aria-label="Search">Search</button>
                    </form>
                </div>
            </div>
        </header>

        <!-- Cart Panel -->
        <div class="cart-panel" id="cart-panel">
            <div class="cart-header">
                <h2>Shopping Cart</h2>
                <button class="cart-close" onclick="toggleCart(event)" aria-label="Close cart">×</button>
            </div>
            <div class="cart-items" id="cart-items">
                <p class="empty-message">Your cart is empty</p>
            </div>
            <div class="cart-footer">
                <div class="cart-total">Total: <span id="cart-total">₦0</span></div>
                <button class="btn-checkout" onclick="checkout()">Checkout</button>
                <button class="btn-clear" onclick="clearCart()">Clear Cart</button>
            </div>
        </div>

        <!-- Cart Overlay -->
        <div class="cart-overlay" id="cart-overlay" onclick="toggleCart(event)"></div>

        <!-- Mobile Cart Bar -->
        <div class="mobile-cart-bar" role="navigation" aria-label="Mobile cart access">
            <a href="#cart-panel" class="mobile-cart-icon" onclick="toggleCart(event)" aria-label="Shopping cart">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span class="cart-count" id="cart-count">0</span>
            </a>
        </div>
    <main class="main">
        <h1>Our Gadget Collection</h1>
        <p>Explore our wide range of gadgets designed to make life easier, smarter, and more exciting.</p>

        <div class="products-grid">
            <article class="product" data-id="x200" data-name="Smartphone X200" data-price="718">
                    <img src="images/smartphone.jpg" alt="Smartphone X200">
                <h3>Smartphone X200</h3>
                <p>The Smartphone X200 features a stunning display, powerful processor, and an advanced camera system.</p>
                <p><strong>Price: <span class="price" data-price="718">₦718</span></strong></p>
                <button class="btn-add-cart" onclick="addToCart('Smartphone X200', 718)">Add to cart</button>
            </article>

            <article class="product" data-id="earbuds-pro" data-name="Wireless Earbuds Pro" data-price="129">
                <img src="images/earbuds.jpg" alt="Wireless Earbuds Pro">
                <h3>Wireless Earbuds Pro</h3>
                <p>Experience true wireless freedom with superior sound quality and noise cancellation.</p>
                <p><strong>Price: <span class="price" data-price="129">₦129</span></strong></p>
                <button class="btn-add-cart" onclick="addToCart('Wireless Earbuds Pro', 129)">Add to cart</button>
            </article>

            <article class="product" data-id="smartwatch-5" data-name="Smartwatch Series 5" data-price="249">
                <img src="images/smartwatch.jpg" alt="Smartwatch Series 5">
                <h3>Smartwatch Series 5</h3>
                <p>Stay connected and track your fitness with the latest Smartwatch Series 5.</p>
                <p><strong>Price: <span class="price" data-price="249">₦249</span></strong></p>
                <button class="btn-add-cart" onclick="addToCart('Smartwatch Series 5', 249)">Add to cart</button>
            </article>

            <article class="product" data-id="speaker-max" data-name="Bluetooth Speaker Max" data-price="99">
                <img src="images/speaker.jpg" alt="Bluetooth Speaker Max">
                <h3>Bluetooth Speaker Max</h3>
                <p>Enjoy high-quality sound on the go with the portable Bluetooth Speaker Max.</p>
                <p><strong>Price: <span class="price" data-price="99">₦99</span></strong></p>
                <button class="btn-add-cart" onclick="addToCart('Bluetooth Speaker Max', 99)">Add to cart</button>
            </article>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Big City Gadget. All rights reserved.</p>
    </footer>
        <script>
            // Shopping Cart System
            let cart = [];

            // Initialize cart from localStorage on page load
            document.addEventListener('DOMContentLoaded', function() {
                const savedCart = localStorage.getItem('gadgetstore_cart');
                if (savedCart) {
                    try {
                        cart = JSON.parse(savedCart);
                    } catch (e) {
                        cart = [];
                    }
                }
                updateCartUI();

                // Format all .price elements as Nigerian Naira (₦) using en-NG locale
                try{
                    var fmt = new Intl.NumberFormat('en-NG', { style: 'currency', currency: 'NGN', maximumFractionDigits: 0 });
                }catch(e){
                    // fallback simple formatter
                    var fmt = { format: function(v){ return '₦' + v; } };
                }
                document.querySelectorAll('.product').forEach(function(prod){
                    var el = prod.querySelector('.price');
                    if(!el) return;
                    var raw = el.getAttribute('data-price') || el.textContent.trim();
                    var n = Number(raw.replace(/[^0-9.-]+/g,'')) || 0;
                    el.textContent = fmt.format(n);
                    // also keep hidden input price numeric (already present)
                    var hidden = prod.querySelector('input[type=hidden][name=price]');
                    if(hidden) hidden.value = n;
                });
            });

            // Update cart UI
            function updateCartUI() {
                const count = cart.reduce((total, item) => total + item.qty, 0);
                document.getElementById('cart-count').textContent = count;

                const itemsContainer = document.getElementById('cart-items');
                if (cart.length === 0) {
                    itemsContainer.innerHTML = '<p class="empty-message">Your cart is empty</p>';
                } else {
                    itemsContainer.innerHTML = cart.map((item, index) => `
                        <div class="cart-item">
                            <div class="cart-item-info">
                                <h3>${item.name}</h3>
                                <p class="cart-item-price">₦${item.price.toLocaleString()}</p>
                            </div>
                            <div class="qty-control">
                                <button class="qty-btn" onclick="updateQty(${index}, -1)">−</button>
                                <span class="qty-display">${item.qty}</span>
                                <button class="qty-btn" onclick="updateQty(${index}, 1)">+</button>
                            </div>
                            <button class="cart-remove" onclick="removeFromCart(${index})">Remove</button>
                        </div>
                    `).join('');
                }

                const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
                document.getElementById('cart-total').textContent = '₦' + total.toLocaleString();
                localStorage.setItem('gadgetstore_cart', JSON.stringify(cart));
            }

            // Add item to cart
            function addToCart(name, price) {
                const existingItem = cart.find(item => item.name === name);
                if (existingItem) {
                    existingItem.qty++;
                } else {
                    cart.push({ name: name, price: price, qty: 1 });
                }
                updateCartUI();
                showNotification('✓ Added to cart!');
            }

            // Remove item from cart
            function removeFromCart(index) {
                cart.splice(index, 1);
                updateCartUI();
            }

            // Update item quantity
            function updateQty(index, change) {
                cart[index].qty += change;
                if (cart[index].qty <= 0) {
                    cart.splice(index, 1);
                }
                updateCartUI();
            }

            // Toggle cart panel
            function toggleCart(e) {
                e.preventDefault();
                const panel = document.getElementById('cart-panel');
                const overlay = document.getElementById('cart-overlay');
                panel.classList.toggle('open');
                overlay.classList.toggle('open');
            }

            // Clear cart
            function clearCart() {
                if (cart.length === 0) return;
                if (confirm('Clear all items from cart?')) {
                    cart = [];
                    updateCartUI();
                }
            }

            // Checkout
            function checkout() {
                if (cart.length === 0) {
                    alert('Cart is empty!');
                    return;
                }
                const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
                alert('Proceeding to checkout...\n\nTotal: ₦' + total.toLocaleString() + '\n\n(This is a demo. Payment processing would happen here.)');
                cart = [];
                updateCartUI();
                toggleCart({preventDefault: () => {}});
            }

            // Show notification
            function showNotification(message) {
                const notif = document.createElement('div');
                notif.style.cssText = 'position:fixed;top:20px;right:20px;background:#4caf50;color:white;padding:12px 20px;border-radius:4px;z-index:10000;animation:slideInRight 0.3s ease;';
                notif.textContent = message;
                document.body.appendChild(notif);
                setTimeout(() => notif.remove(), 3000);
            }
</script>
    <script src="script.js"></script>
    </div>
</body>
</html>
    